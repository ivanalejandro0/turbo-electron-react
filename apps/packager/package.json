{
  "name": "packager",
  "version": "0.0.0",
  "main": "./dist/main.js",
  "scripts": {
    "pkg": "$npm_execpath run pkg:mac && $npm_execpath run pkg:linux",
    "pkg:linux": "electron-builder --config ./electron-builder-config.yaml --linux tar.xz",
    "pkg:mac": "electron-builder --config ./electron-builder-config.yaml --mac --x64 --arm64",

    "copy-electron": "rm -fr dist/; cp -R ../desktop/dist/ dist",
    "# copy-dep": "# manually copy dependency, so no bundler is needed on electron side",
    "copy-dep": "mkdir -p ../desktop/dist/node_modules && cp -R ../../packages/wait-for-server-up/dist/ ../desktop/dist/node_modules/wait-for-server-up",
    "copy-ui": "rm -fr dist-ui/; cp -R ../ui/build/ dist-ui",
    "prepackage": "$npm_execpath run copy-electron && $npm_execpath run copy-dep && $npm_execpath run copy-ui",
    "package": "electron-builder --config ./electron-builder-config.yaml --dir",

    "pkg-dir": "$npm_execpath run pkg-dir:mac && $npm_execpath run pkg-dir:linux",
    "pkg-dir:linux": "electron-builder --config ./electron-builder-config.yaml --dir --linux",
    "pkg-dir:mac": "electron-builder --config ./electron-builder-config.yaml --dir --mac"
  },
  "devDependencies": {
    "electron-builder": "^23.0.3"
  }
}
